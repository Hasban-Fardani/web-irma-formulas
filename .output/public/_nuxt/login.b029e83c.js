import{j as w,k as i,c as x,a as e,f as _,l as c,v as u,m,q as d,o as g}from"./entry.1ce3a925.js";import{u as y}from"./fetch.2b20bad8.js";import{_ as k}from"./logo-irma.1552b2d2.js";import{u as v}from"./token.6a5bdd52.js";const b={class:"flex flex-col items-center justify-center"},M=e("div",{class:"flex flex-col items-center justify-center my-10"},[e("img",{src:k,alt:"",class:"my-1 w-1/2 h-auto"}),e("h1",{class:"text-xl font-bolder my-3"},"IRMA FORMULAS")],-1),R={class:"rounded-xl bg-green-700 w-full p-4"},j=e("p",{class:"text-center font-bold text-white"}," Portal Pemilihan calon rois roisah IRMA FORMULAS masa bakti 2023-2024 ",-1),S=["onSubmit"],U=e("button",{class:"py-2 px-6 my-4 rounded-lg bg-white shadow-lg"}," Login ",-1),P={__name:"login",setup(A){const l=v(),p=w();console.log("stored token: ",l.getToken);let t=i(""),a=i("");const f=async()=>{const n=t.value,o=a.value,s="http://13.212.39.132:8080/akun/login";try{const{data:r}=await y(s,{method:"post",body:{username:n,password:o}},"$jmvZ4Kz5FX"),h=await r.value.token;l.setToken(h),console.log("redirect to /pemiros/pilih"),p.push("/pemiros/pilih")}catch(r){console.log("Error:",r)}};return(n,o)=>(g(),x("div",b,[M,e("div",R,[j,e("form",{class:"my-10 flex flex-col justify-center items-center gap-6",ref:"form",onSubmit:_(f,["prevent"])},[c(e("input",{type:"text",id:"username",name:"username",class:"input w-full max-w-xs rounded-lg",placeholder:"Username","onUpdate:modelValue":o[0]||(o[0]=s=>d(t)?t.value=s:t=s)},null,512),[[u,m(t)]]),c(e("input",{type:"password",id:"password",name:"password",class:"input w-full max-w-xs",placeholder:"Password","onUpdate:modelValue":o[1]||(o[1]=s=>d(a)?a.value=s:a=s)},null,512),[[u,m(a)]]),U],40,S)])]))}};export{P as default};
